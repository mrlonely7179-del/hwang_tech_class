<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>ì¤‘í•™êµ ê¸°ìˆ ê³¼ ìˆ˜ì—…</title>
  <!-- Bootstrap CSS -->
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">
  <style>
    body { font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, sans-serif; }
    .quiz-section { margin-top: 15px; padding-top: 15px; border-top: 1px solid #ddd; }
    textarea { width: 100%; height: 150px; padding: 10px; border: 1px solid #ddd; border-radius: 8px; font-size: 14px; resize: vertical; margin-top: 10px; }
    .quiz-btn { background-color: #2ea44f; color: white; border: none; padding: 10px 20px; border-radius: 6px; font-size: 14px; cursor: pointer; margin-top: 10px; width: 100%; }
    .quiz-btn:disabled { background-color: #94d3a2; cursor: not-allowed; }
    .status { margin-top: 15px; padding: 12px; border-radius: 6px; display: none; font-size: 14px; }
    .success { background-color: #f0fff4; border: 1px solid #2ea44f; color: #1a7f37; }
    .error { background-color: #ffebe9; border: 1px solid #cf222e; color: #cf222e; }
  </style>
</head>
<body>
  <!-- ë„¤ë¹„ê²Œì´ì…˜ ë°” -->
  <nav class="navbar navbar-expand-lg navbar-dark bg-dark">
    <div class="container">
      <a class="navbar-brand" href="#">ì¤‘í•™êµ ê¸°ìˆ ê³¼</a>
    </div>
  </nav>

  <header class="bg-primary text-white text-center py-5">
    <h1>ê¸°ìˆ ê³¼ ìˆ˜ì—… í™ˆí˜ì´ì§€</h1>
    <p class="lead">ê±´ì„¤ê¸°ìˆ  Â· ì œì¡°ê¸°ìˆ  Â· ìƒëª…ê¸°ìˆ  Â· ìˆ˜ì†¡ê¸°ìˆ ì— ëŒ€í•´ ë°°ìš°ëŠ” ê³µê°„</p>
  </header>

  <section class="container my-5">
    <h2 class="mb-4">ê¸°ìˆ  ë¶„ì•¼ íƒìƒ‰í•˜ê¸°</h2>
    <div class="row g-4">
      
      <!-- ê±´ì„¤ê¸°ìˆ  ì¹´ë“œ -->
      <div class="col-md-6 col-lg-3">
        <div class="card shadow h-100">
          <div class="card-body">
            <h5 class="card-title">ê±´ì„¤ê¸°ìˆ </h5>
            <p class="card-text">ê±´ì„¤ ë° êµ¬ì¡°ë¬¼ ê´€ë ¨ ê¸°ìˆ ì„ íƒêµ¬í•©ë‹ˆë‹¤.</p>
            <a href="https://notebooklm.google.com/" target="_blank" class="btn btn-success w-100">NotebookLM ë°”ë¡œê°€ê¸°</a>
            
            <div class="quiz-section">
              <small class="text-muted">í€´ì¦ˆ ìƒì„±í•˜ê¸°</small>
              <textarea id="source1" placeholder="ì†ŒìŠ¤ í…ìŠ¤íŠ¸ë¥¼ ì…ë ¥í•˜ì„¸ìš”..."></textarea>
              <button class="quiz-btn" onclick="generateQuiz(1)">í€´ì¦ˆ ìƒì„±</button>
              <div id="status1" class="status"></div>
            </div>
          </div>
        </div>
      </div>

      <!-- ì œì¡°ê¸°ìˆ  ì¹´ë“œ -->
      <div class="col-md-6 col-lg-3">
        <div class="card shadow h-100">
          <div class="card-body">
            <h5 class="card-title">ì œì¡°ê¸°ìˆ </h5>
            <p class="card-text">ì œì¡° ê³µì •ê³¼ ê¸°ê³„ ê´€ë ¨ ê¸°ìˆ ì„ ë°°ì›ë‹ˆë‹¤.</p>
            <a href="https://notebooklm.google.com/" target="_blank" class="btn btn-info w-100">NotebookLM ë°”ë¡œê°€ê¸°</a>
            
            <div class="quiz-section">
              <small class="text-muted">í€´ì¦ˆ ìƒì„±í•˜ê¸°</small>
              <textarea id="source2" placeholder="ì†ŒìŠ¤ í…ìŠ¤íŠ¸ë¥¼ ì…ë ¥í•˜ì„¸ìš”..."></textarea>
              <button class="quiz-btn" onclick="generateQuiz(2)">í€´ì¦ˆ ìƒì„±</button>
              <div id="status2" class="status"></div>
            </div>
          </div>
        </div>
      </div>

      <!-- ìƒëª…ê¸°ìˆ  ì¹´ë“œ -->
      <div class="col-md-6 col-lg-3">
        <div class="card shadow h-100">
          <div class="card-body">
            <h5 class="card-title">ìƒëª…ê¸°ìˆ </h5>
            <p class="card-text">ìƒëª…ê³¼í•™ ë° ë°”ì´ì˜¤ ê´€ë ¨ ê¸°ìˆ ì„ ì•Œì•„ë´…ë‹ˆë‹¤.</p>
            <a href="https://notebooklm.google.com/" target="_blank" class="btn btn-warning w-100">NotebookLM ë°”ë¡œê°€ê¸°</a>
            
            <div class="quiz-section">
              <small class="text-muted">í€´ì¦ˆ ìƒì„±í•˜ê¸°</small>
              <textarea id="source3" placeholder="ì†ŒìŠ¤ í…ìŠ¤íŠ¸ë¥¼ ì…ë ¥í•˜ì„¸ìš”..."></textarea>
              <button class="quiz-btn" onclick="generateQuiz(3)">í€´ì¦ˆ ìƒì„±</button>
              <div id="status3" class="status"></div>
            </div>
          </div>
        </div>
      </div>

      <!-- ìˆ˜ì†¡ê¸°ìˆ  ì¹´ë“œ -->
      <div class="col-md-6 col-lg-3">
        <div class="card shadow h-100">
          <div class="card-body">
            <h5 class="card-title">ìˆ˜ì†¡ê¸°ìˆ </h5>
            <p class="card-text">êµí†µ ë° ìˆ˜ì†¡ìˆ˜ë‹¨ì˜ ê¸°ìˆ ì„ ì‚´í´ë´…ë‹ˆë‹¤.</p>
            <a href="https://notebooklm.google.com/" target="_blank" class="btn btn-danger w-100">NotebookLM ë°”ë¡œê°€ê¸°</a>
            
            <div class="quiz-section">
              <small class="text-muted">í€´ì¦ˆ ìƒì„±í•˜ê¸°</small>
              <textarea id="source4" placeholder="ì†ŒìŠ¤ í…ìŠ¤íŠ¸ë¥¼ ì…ë ¥í•˜ì„¸ìš”..."></textarea>
              <button class="quiz-btn" onclick="generateQuiz(4)">í€´ì¦ˆ ìƒì„±</button>
              <div id="status4" class="status"></div>
            </div>
          </div>
        </div>
      </div>

    </div>
  </section>

  <footer class="bg-dark text-white text-center py-3 mt-5">
    &copy; 2025 ì¤‘í•™êµ ê¸°ìˆ ê³¼. ëª¨ë“  ê¶Œë¦¬ ë³´ìœ .
  </footer>
  
  <!-- Bootstrap JS -->
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"></script>

  <script>
    // ğŸ”´ ì—¬ê¸°ì— ë°°í¬í•œ Google Apps Script URLì„ ë„£ìœ¼ì„¸ìš”
    const GAS_WEB_APP_URL = "https://script.google.com/macros/library/d/1lsNCRdxUt2rFh7mN7L9z61LG7vDHOEPePtWfXdgdE2A16NfFR5z1ovTC/1";

    function generateQuiz(cardNumber) {
        const source = document.getElementById('source' + cardNumber).value;
        const btn = event.target;
        const statusDiv = document.getElementById('status' + cardNumber);

        if (!source.trim()) {
            alert("ì†ŒìŠ¤ í…ìŠ¤íŠ¸ë¥¼ ì…ë ¥í•´ì£¼ì„¸ìš”!");
            return;
        }

        // UI ìƒíƒœ ë³€ê²½
        btn.disabled = true;
        btn.innerText = "AIê°€ ë¶„ì„ ì¤‘... â³";
        statusDiv.style.display = "none";

        // Google Apps Scriptë¡œ ë°ì´í„° ì „ì†¡ (POST)
        fetch(GAS_WEB_APP_URL, {
            method: "POST",
            mode: "cors",
            headers: {
                "Content-Type": "text/plain;charset=utf-8",
            },
            body: JSON.stringify({ sourceText: source })
        })
        .then(response => response.json())
        .then(data => {
            btn.disabled = false;
            btn.innerText = "í€´ì¦ˆ ìƒì„±";
            statusDiv.style.display = "block";

            if (data.result === 'success') {
                statusDiv.className = 'status success';
                statusDiv.innerHTML = `âœ… í€´ì¦ˆ ìƒì„± ì™„ë£Œ!<br><a href="${data.url}" target="_blank" style="color: #1a7f37; font-weight: bold;">ğŸ‘‰ í€´ì¦ˆ í’€ê¸°</a>`;
            } else {
                throw new Error(data.message);
            }
        })
        .catch(error => {
            console.error('Error:', error);
            btn.disabled = false;
            btn.innerText = "í€´ì¦ˆ ìƒì„±";
            statusDiv.style.display = "block";
            statusDiv.className = 'status error';
            statusDiv.innerText = "ì˜¤ë¥˜: " + error.message;
        });
    }
  </script>
</body>
</html>
